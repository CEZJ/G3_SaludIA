<mat-toolbar color="primary" class="navbar-app">
  <mat-toolbar-row class="navbar-content">

    <!-- Título/Logo (Siempre visible) -->
    <span class="logo-title" [routerLink]="'/'">SALUD AI</span>

    <!-- Enlaces de Navegación -->
    <div class="nav-links">

      <!--
        --- CASO 1: USUARIO NO LOGUEADO ---
      -->
      <ng-container *ngIf="!usuarioService.isLoggedIn()">
        <button mat-button [routerLink]="'/'" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}">Inicio</button>
        <button mat-button [routerLink]="'/nosotros'" routerLinkActive="active-link">Nosotros</button>
      </ng-container>

      <!--
        --- CASO 2: USUARIO 'USER' LOGUEADO ---
      -->
      <ng-container *ngIf="usuarioService.isLoggedIn() && usuarioService.isUser()">
        <!--
          ¡IMPORTANTE!
          Esto navega al panel de usuario que hicimos
        -->
        <button mat-button [routerLink]="'/inicio-usuario'" routerLinkActive="active-link">Mi Panel</button>
        <button mat-button [routerLink]="'/nosotros'" routerLinkActive="active-link">Nosotros</button>
      </ng-container>

      <!--
        --- CASO 3: USUARIO 'ADMIN' LOGUEADO ---
        (Mostramos los enlaces del panel de admin)
      -->
      <ng-container *ngIf="usuarioService.isLoggedIn() && usuarioService.isAdmin()">

        <button mat-raised-button [routerLink]="'/nuevo-edit'">Nuevo perfil</button>
        <button mat-button [routerLink]="'/inicio-admin'" routerLinkActive="active-link">Inicio Admin</button>
        <button mat-button [routerLink]="'/usuarios'" routerLinkActive="active-link">Usuarios</button>
        <button mat-button [routerLink]="'/sintomas'" routerLinkActive="active-link">Síntomas</button>
        <button mat-button [routerLink]="'/ubicaciones'" routerLinkActive="active-link">Ubicaciones</button>
      </ng-container>

    </div>

    <!-- Espaciador -->
    <span class="spacer"></span>

    <!--
      Botones de Sesión
    -->

    <!-- Botón de Login (Solo si NO está logueado) -->
    <button *ngIf="!usuarioService.isLoggedIn()" mat-flat-button class="login-button" [routerLink]="'/login'">
      Login
    </button>

    <!-- Botón de Logout (Solo si SÍ está logueado) -->
    <button *ngIf="usuarioService.isLoggedIn()" mat-flat-button class="login-button logout-button" (click)="logout()">
      Cerrar Sesión
    </button>

  </mat-toolbar-row>
</mat-toolbar>
